int pthread_join(pthread_t thread, void **value_ptr);

pthread_attr_init(&attr);
pthread_attr_setdetachstate(&attr, PTHREAD_CREATE_DETACHED);
pthread_create(&(t_stat[i].tid), NULL, memtest, (void *)&(t_stat[i]));
pthread_exit(NULL);

pthread_cancel(t_stat[i].tid);
pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, NULL);
pthread_cleanup_push(handler, stat);
pthread_testcancel();
pthread_cleanup_pop(0);

